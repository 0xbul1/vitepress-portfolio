import{_ as s,c as a,o as n,d as l}from"./app.3ae6cfa8.js";const i=JSON.parse('{"title":"\u4E24\u4E2A\u6709\u8DA3\u7684\u9700\u6C42","description":"","frontmatter":{},"headers":[{"level":2,"title":"1.web\u9875\u9762\u81EA\u52A8\u586B\u5199\u8868\u5355\u767B\u5F55\uFF0C\u5237\u65B0\u6570\u636E\uFF0C\u751F\u6210\u6587\u4EF6","slug":"_1-web\u9875\u9762\u81EA\u52A8\u586B\u5199\u8868\u5355\u767B\u5F55\uFF0C\u5237\u65B0\u6570\u636E\uFF0C\u751F\u6210\u6587\u4EF6"},{"level":2,"title":"2.\u673A\u5668\u4EBA\uFF08\u5FAE\u4FE1\u53F7\uFF09\u6BCF\u5929\u51CC\u6668\u81EA\u52A8\u63A8\u9001\u6D88\u606F","slug":"_2-\u673A\u5668\u4EBA\uFF08\u5FAE\u4FE1\u53F7\uFF09\u6BCF\u5929\u51CC\u6668\u81EA\u52A8\u63A8\u9001\u6D88\u606F"},{"level":2,"title":"3.\u5173\u4E8E\u9879\u76EE\u7BA1\u7406\u8BF4\u660E","slug":"_3-\u5173\u4E8E\u9879\u76EE\u7BA1\u7406\u8BF4\u660E"}],"relativePath":"project/5.md","lastUpdated":1663838338000}'),p={name:"project/5.md"},o=l(`<h1 id="\u4E24\u4E2A\u6709\u8DA3\u7684\u9700\u6C42" tabindex="-1">\u4E24\u4E2A\u6709\u8DA3\u7684\u9700\u6C42 <a class="header-anchor" href="#\u4E24\u4E2A\u6709\u8DA3\u7684\u9700\u6C42" aria-hidden="true">#</a></h1><h2 id="_1-web\u9875\u9762\u81EA\u52A8\u586B\u5199\u8868\u5355\u767B\u5F55\uFF0C\u5237\u65B0\u6570\u636E\uFF0C\u751F\u6210\u6587\u4EF6" tabindex="-1">1.web\u9875\u9762\u81EA\u52A8\u586B\u5199\u8868\u5355\u767B\u5F55\uFF0C\u5237\u65B0\u6570\u636E\uFF0C\u751F\u6210\u6587\u4EF6 <a class="header-anchor" href="#_1-web\u9875\u9762\u81EA\u52A8\u586B\u5199\u8868\u5355\u767B\u5F55\uFF0C\u5237\u65B0\u6570\u636E\uFF0C\u751F\u6210\u6587\u4EF6" aria-hidden="true">#</a></h2><ul><li>\u5927\u4F53\u6D41\u7A0B\u662F\u5728\u673A\u5668\u4E0A\u8DD1\u4E00\u4E2Apy\u6587\u4EF6\uFF0C\u81EA\u52A8\u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u586B\u5199\u6388\u6743\u4FE1\u606F\uFF0C\u767B\u5F55\u5230\u67D0\u8868\u5355\u7F51\u9875\uFF0C\u63A5\u7740\u628A\u8868\u683C\u6570\u636E\u5237\u65B0\uFF0C\u83B7\u53D6\u6700\u65B0\u6570\u636E\u8FDB\u884C\u6587\u4EF6\u5BFC\u51FA\u3002</li><li>\u5B9E\u73B0\u7684\u65F6\u5019\uFF0C\u6211\u67E5\u8BE2\u8D44\u6599\u4F7F\u7528python+chromedriver\u3002\u7528chromedriver\u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u63A5\u7740\u8FDB\u884C\u586B\u5145\u3002</li><li>\u5B9E\u73B0\u8FC7\u7A0B\u4E2D\uFF0C\u5BF9python\u6CA1\u6709\u8FDB\u884C\u8FC7\u7CFB\u7EDF\u5316\u5B66\u4E60\uFF0C\u8BED\u6CD5\u4E0D\u662F\u5F88\u719F\u7EC3\uFF0C\u6700\u540E\u5B9E\u73B0\u7684\u9700\u6C42\u53EF\u80FD\u4E0D\u662F\u6700\u4F18\u89E3\u3002</li></ul><h2 id="_2-\u673A\u5668\u4EBA\uFF08\u5FAE\u4FE1\u53F7\uFF09\u6BCF\u5929\u51CC\u6668\u81EA\u52A8\u63A8\u9001\u6D88\u606F" tabindex="-1">2.\u673A\u5668\u4EBA\uFF08\u5FAE\u4FE1\u53F7\uFF09\u6BCF\u5929\u51CC\u6668\u81EA\u52A8\u63A8\u9001\u6D88\u606F <a class="header-anchor" href="#_2-\u673A\u5668\u4EBA\uFF08\u5FAE\u4FE1\u53F7\uFF09\u6BCF\u5929\u51CC\u6668\u81EA\u52A8\u63A8\u9001\u6D88\u606F" aria-hidden="true">#</a></h2><ul><li>\u5E95\u5C42\u903B\u8F91\u5C31\u662F\u6211\u8FD9\u8FB9\u5199\u4E00\u4E2A\u83B7\u53D6\u6570\u636E\u7684\u63A5\u53E3\uFF0C\u6BCF\u5929\u65E9\u6668\u8DD1\u4E00\u904D\u63A5\u53E3\uFF08\u6211\u4EEC\u8FD9\u8FB9\u662F\u7528\u7684\u963F\u91CC\u4E91\u51FD\u6570\u8BA1\u7B97\uFF0C\u6BCF\u5929\u65E9\u6668\u5B9A\u65F6\u8BF7\u6C42\uFF0C\u4E0D\u8FC7\u51FD\u6570\u8BA1\u7B97\u4EE3\u7801\u6211\u8FD9\u8FB9\u6CA1\u6709\u63A5\u89E6\uFF09</li><li>\u5173\u4E8E\u63A5\u53E3\u7684\u5B9E\u73B0\u4E5F\u4E0D\u662F\u7279\u522B\u590D\u6742\uFF0C\u56E0\u4E3A\u6570\u636E\u6E90\u6CA1\u6709\u6743\u9650\u8BA4\u8BC1\uFF0C\u76F8\u5F53\u4E8E\u7528js\u5B9E\u73B0\u4E00\u4E9B\u8BF7\u6C42\uFF0C\u7136\u540E\u5904\u7406\u6570\u636E</li></ul><div class="language-typescript"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u65E9\u62A5\u7F16\u8F91\u5668\u4F7F\u7528\u65E5\u62A5 morning-paper-editor</span></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getMPEStatistics</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">date</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">now</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">DateTime</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">local</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> zone</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">SHANGHAI_ZONE</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">needDate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">date</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">DateTime</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromJSDate</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Date</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">date</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setZone</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">SHANGHAI_ZONE</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">now</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">before</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">needDate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">plus</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">day</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toISODate</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">T00:00:00</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">after</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">needDate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">minus</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">day</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toISODate</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">T23:59:59</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">OPERATE_STAT_URL</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">requestData</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">before</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">after</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    categories</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">OPERATE_STAT_CATEGORY</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    orderby</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    per_page</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    _fields</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">id,slug,title,acf,date,tags,categories,content,status</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">axios</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    method</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    headers</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">content-type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">application/json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    data</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">requestData</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">showDate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">needDate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">minus</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> day</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toISODate</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resData</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">handleEditorCount</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Data</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">showDate</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_3-\u5173\u4E8E\u9879\u76EE\u7BA1\u7406\u8BF4\u660E" tabindex="-1">3.\u5173\u4E8E\u9879\u76EE\u7BA1\u7406\u8BF4\u660E <a class="header-anchor" href="#_3-\u5173\u4E8E\u9879\u76EE\u7BA1\u7406\u8BF4\u660E" aria-hidden="true">#</a></h2><p>\u4E3A\u4EC0\u4E48\u9700\u6C422\u4F7F\u7528js\u5B9E\u73B0\u5462\uFF1F</p><p>\u56E0\u4E3A\u968F\u7740\u9700\u6C42\u5806\u53E0\uFF0C\u5355\u4E2A\u9879\u76EE\u7BA1\u7406\u975E\u5E38\u9EBB\u70E6\uFF0C\u540E\u671F\u516C\u53F8\u4E3A\u4E86\u524D\u7AEF\u9879\u76EE\u6574\u6D01\uFF0C\u5BF9\u4E8E\u670D\u52A1\u67D0\u4E00\u7532\u65B9\u7684\u9879\u76EE\u5168\u90E8\u79FB\u5230\u4E00\u4E2A\u5305\u7BA1\u7406\uFF0C\u5373monorepo\u7684\u65B9\u5F0F\u3002</p><p>\u4F46\u662F\u6709\u4E00\u4E2A\u5751\uFF0C\u5E08\u5085\u5C1D\u8BD5\u8FC7\u4F7F\u7528lerna\uFF0C\u51FA\u73B0\u5F15\u7528\u7684\u672C\u5730\u9879\u76EE\u65E0\u8BBA\u5982\u4F55\u90FD\u94FE\u63A5\u4E0D\u5230node_modules\u4E2D\uFF0C<a href="https://github.com/lerna/lerna/issues/2352" target="_blank" rel="noopener noreferrer">https://github.com/lerna/lerna/issues/2352</a></p><p>\u540E\u9762\u516C\u53F8\u5BFB\u627E\u65B9\u6CD5\u4F7F\u7528\u7684\u662F<code>rushjs</code>\u3002</p><div class="language-md"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">// README.md</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">\u7136\u540E\u6267\u884C rush update \u4EE3\u66FF npm install \u5B89\u88C5\u4F9D\u8D56\uFF0C\uFF08\u9ED8\u8BA4\u4F7F\u7528\u7684 pnpm \u5305\u7BA1\u7406\uFF0C\u9700\u8981\u786E\u4FDD\u81EA\u8EAB\u4F9D\u8D56\u7684\u6A21\u5757\u90FD\u5B9A\u4E49\u5230\u4E86package.json\u4E2D\uFF09</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">\u5728\u5177\u4F53\u9879\u76EE\u76EE\u5F55\u4E2D\u4F7F\u7528 rush add -p \\&lt;packageName\\&gt; \u4EE3\u66FF npm install \\&lt;packageName\\&gt; \u5B89\u88C5\u6307\u5B9A\u4F9D\u8D56\u6A21\u5757</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">\u5220\u9664\u4F9D\u8D56\u76F4\u63A5\u4FEE\u6539 package.json \u540E\u6267\u884C rush update \u5C31\u884C</span></span>
<span class="line"></span></code></pre></div>`,12),e=[o];function t(c,r,F,y,D,A){return n(),a("div",null,e)}var d=s(p,[["render",t]]);export{i as __pageData,d as default};
